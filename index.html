<!DOCTYPE html>
<html>
<head>
    <title>üé¨ MovieHub - API Working</title>
    <style>
        body{margin:0;padding:80px 20px 20px;background:#000;color:#fff;font-family:Arial}
        .header{position:fixed;top:0;left:0;right:0;background:rgba(0,0,0,0.9);padding:20px;z-index:100}
        h1{font-size:2.5em;background:linear-gradient(45deg,#00ff88,#00bfff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        #search{padding:15px;border:2px solid #00ff88;border-radius:25px;background:rgba(0,255,136,0.1);color:#fff;width:400px;font-size:16px}
        .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:25px;margin-top:30px}
        .card{background:#1a1a1a;padding:20px;border-radius:15px;border:1px solid #333;transition:0.3s;cursor:pointer}
        .card:hover{transform:scale(1.05);border-color:#00ff88}
        img{width:100%;height:280px;object-fit:cover;border-radius:10px;margin-bottom:15px}
        .title{font-weight:bold;font-size:1.1em;margin-bottom:10px}
        .rating{background:#00ff88;color:#000;padding:5px 12px;border-radius:15px;font-size:0.9em;display:inline-block}
        .play{width:100%;padding:12px;background:#00ff88;color:#000;border:none;border-radius:8px;font-weight:bold;cursor:pointer}
        #player{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.98);display:none;justify-content:center;align-items:center;z-index:999}
        #player.active{display:flex}
        .player{width:90%;max-width:1000px;max-height:90vh;background:#111;border-radius:20px;position:relative}
        .close{position:absolute;top:20px;right:30px;font-size:40px;color:#fff;cursor:pointer}
        iframe{width:100%;height:550px;border:none;border-radius:15px}
        .loading{text-align:center;padding:100px;font-size:1.5em;color:#00ff88}
    </style>
</head>
<body>
    <div class="header">
        <h1 style="display:inline-block;margin:0">üé¨ MovieHub</h1>
        <input id="search" placeholder="üîç Search movies..." onkeyup="searchMovies(event)">
    </div>
    
    <div id="movies" class="grid">
        <div class="loading">Loading movies... üé•</div>
    </div>
    
    <div id="player">
        <div class="player">
            <span class="close" onclick="closePlayer()">√ó</span>
            <iframe id="video" allowfullscreen></iframe>
        </div>
    </div>

    <script>
        // üî• WORKING PROXY + OLD API KEY
        const PROXY = 'https://api.allorigins.win/get?url=';
        const API_KEY = '174d0214bf933dd59b3d5ec68a0c967f';
        const IMG_URL = 'https://image.tmdb.org/t/p/w500';
        
        async function loadMovies() {
            const moviesDiv = document.getElementById('movies');
            moviesDiv.innerHTML = '<div class="loading">Trending movies ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à‡§Ç...</div>';
            
            try {
                // Proxy ‡§ï‡•á through TMDB call
                const tmdbUrl = https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY};
                const proxyUrl = ${PROXY}${encodeURIComponent(tmdbUrl)};
                
                const response = await fetch(proxyUrl);
                const data = await response.json();
                const movies = JSON.parse(data.contents).results.slice(0, 16);
                
                showMovies(movies);
            } catch(e) {
                // Fallback static movies
                showStaticMovies();
            }
        }
        
        function showMovies(movies) {
            const moviesDiv = document.getElementById('movies');
            moviesDiv.innerHTML = '';
            
            movies.forEach(movie => {
                if(movie.poster_path && movie.title) {
                    const card = document.createElement('div');
                    card.className = 'card';

Workkk, [22/02/2026 04:11]
card.innerHTML = 
                        <img src="${IMG_URL}${movie.poster_path}" onerror="this.src='https://via.placeholder.com/220x300/333/fff?text=MOVIE'">
                        <div class="title">${movie.title}</div>
                        <div class="rating">‚≠ê ${movie.vote_average?.toFixed(1) || 'N/A'}</div>
                        <button class="play" onclick="playMovie('${movie.title}')">‚ñ∂Ô∏è WATCH</button>
                    ;
                    moviesDiv.appendChild(card);
                }
            });
        }
        
        function showStaticMovies() {
            const STATIC = [
                {title:'Deadpool & Wolverine', poster:'/deadpool.jpg'},
                {title:'Dune Part Two', poster:'/dune.jpg'},
                {title:'Inside Out 2', poster:'/insideout.jpg'}
            ];
            showMovies(STATIC);
        }
        
        async function searchMovies(e) {
            if(e.keyCode !== 13) return;
            const term = document.getElementById('search').value;
            if(term.length < 2) return loadMovies();
            
            try {
                const tmdbUrl = https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${term};
                const proxyUrl = ${PROXY}${encodeURIComponent(tmdbUrl)};
                
                const response = await fetch(proxyUrl);
                const data = await response.json();
                const movies = JSON.parse(data.contents).results;
                showMovies(movies);
            } catch(e) {
                loadMovies();
            }
        }
        
        function playMovie(title) {
            document.getElementById('player').classList.add('active');
            document.getElementById('video').src = 
                https://www.dailymotion.com/embed/search?query=${encodeURIComponent(title+' full movie hindi 1080p')};
        }
        
        function closePlayer() {
            document.getElementById('player').classList.remove('active');
            document.getElementById('video').src = '';
        }
        
        // Start
        loadMovies();
    </script>
</body>
</html>
